library utils;

final List stop_words = [
  "A",
  "ABOUT",
  "ABOVE",
  "AFTER",
  "AGAIN",
  "AGAINST",
  "ALL",
  "AM",
  "AN",
  "AND",
  "ANY",
  "ARE",
  "AREN'T",
  "AS",
  "AT",
  "BE",
  "BECAUSE",
  "BEEN",
  "BEFORE",
  "BEING",
  "BELOW",
  "BETWEEN",
  "BOTH",
  "BUT",
  "BY",
  "CAN'T",
  "CANNOT",
  "COULD",
  "COULDN'T",
  "DID",
  "DIDN'T",
  "DO",
  "DOES",
  "DOESN'T",
  "DOING",
  "DON'T",
  "DOWN",
  "DURING",
  "EACH",
  "FEW",
  "FOR",
  "FROM",
  "FURTHER",
  "HAD",
  "HADN'T",
  "HAS",
  "HASN'T",
  "HAVE",
  "HAVEN'T",
  "HAVING",
  "HE",
  "HE'D",
  "HE'LL",
  "HE'S",
  "HER",
  "HERE",
  "HERE'S",
  "HERS",
  "HERSELF",
  "HIM",
  "HIMSELF",
  "HIS",
  "HOW",
  "HOW'S",
  "I",
  "I'D",
  "I'LL",
  "I'M",
  "I'VE",
  "IF",
  "IN",
  "INTO",
  "IS",
  "ISN'T",
  "IT",
  "IT'S",
  "ITS",
  "ITSELF",
  "LET'S",
  "ME",
  "MORE",
  "MOST",
  "MUSTN'T",
  "MY",
  "MYSELF",
  "NO",
  "NOR",
  "NOT",
  "OF",
  "OFF",
  "ON",
  "ONCE",
  "ONLY",
  "OR",
  "OTHER",
  "OUGHT",
  "OUR",
  "OURS ",
  "OURSELVES",
  "OUT",
  "OVER",
  "OWN",
  "SAME",
  "SHAN'T",
  "SHE",
  "SHE'D",
  "SHE'LL",
  "SHE'S",
  "SHOULD",
  "SHOULDN'T",
  "SO",
  "SOME",
  "SUCH",
  "THAN",
  "THAT",
  "THAT'S",
  "THE",
  "THEIR",
  "THEIRS",
  "THEM",
  "THEMSELVES",
  "THEN",
  "THERE",
  "THERE'S",
  "THESE",
  "THEY",
  "THEY'D",
  "THEY'LL",
  "THEY'RE",
  "THEY'VE",
  "THIS",
  "THOSE",
  "THROUGH",
  "TO",
  "TOO",
  "UNDER",
  "UNTIL",
  "UP",
  "VERY",
  "WAS",
  "WASN'T",
  "WE",
  "WE'D",
  "WE'LL",
  "WE'RE",
  "WE'VE",
  "WERE",
  "WEREN'T",
  "WHAT",
  "WHAT'S",
  "WHEN",
  "WHEN'S",
  "WHERE",
  "WHERE'S",
  "WHICH",
  "WHILE",
  "WHO",
  "WHO'S",
  "WHOM",
  "WHY",
  "WHY'S",
  "WITH",
  "WON'T",
  "WOULD",
  "WOULDN'T",
  "YOU",
  "YOU'D",
  "YOU'LL",
  "YOU'RE",
  "YOU'VE",
  "YOUR",
  "YOURS",
  "YOURSELF",
  "YOURSELVES"
];

List create_wordlist(String text) {
  List words = text.toUpperCase().split(new RegExp(r"[^\w']+"));
  List wordList = [];
  Map wordCount = {};

  for (var word in words) {
    if (wordCount.containsKey(word)) {
      wordCount[word]++;
    } else {
      wordCount[word] = 1;
    }
  }

  for (var word in wordCount.keys) {
    //if (word != null && word != "" && word.length > 2 && !stop_words.contains(word)) {
    if (word != null && word != "" && word.length > 3) {
      wordList.add({"word": word, "count": wordCount[word]});
    }
  }

  wordList.sort((a, b) => b["count"].compareTo(a["count"]));

  return wordList;
}